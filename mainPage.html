<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>صفحه اصلی</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      height: 100vh;
    }
  </style>
</head>
<body>
  <script src="auth.js"></script>
  <script>
    function generateDeviceCode() {
      const ua = navigator.userAgent;
      let hash = 0;
      for (let i = 0; i < ua.length; i++) {
        hash = (hash << 5) - hash + ua.charCodeAt(i);
        hash |= 0;
      }
      return ('00000000' + (hash >>> 0).toString(16)).slice(-8).toUpperCase();
    }

    const deviceCode = generateDeviceCode();

    if (typeof allowedCodes !== 'undefined' && allowedCodes.includes(deviceCode)) {
      // اجازه ورود
      console.log('دسترسی داده شد');
    } else {
      // برگرد به صفحه ورود
      window.location.href = 'loginPage.html';
    }
  </script>
</body>
</html>
